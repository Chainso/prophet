# Code generated by prophet-cli. DO NOT EDIT.
from __future__ import annotations

from datetime import datetime
from typing import Optional

from sqlalchemy import JSON, Column, Integer, String
from sqlmodel import Field, SQLModel

class OrderModel(SQLModel, table=True):
    __tablename__ = 'orders'
    orderId: str = Field(primary_key=True)
    customer: dict = Field(default_factory=dict, sa_column=Column(JSON, nullable=False, primary_key=False))
    totalAmount: float = Field(primary_key=False)
    discountCode: Optional[str] = Field(default=None, primary_key=False)
    tags: Optional[list] = Field(default=None, sa_column=Column(JSON, nullable=True, primary_key=False))
    shippingAddress: Optional[dict] = Field(default=None, sa_column=Column(JSON, nullable=True, primary_key=False))
    approvedByUserId: Optional[str] = Field(default=None, primary_key=False)
    approvalNotes: Optional[list] = Field(default=None, sa_column=Column(JSON, nullable=True, primary_key=False))
    approvalReason: Optional[str] = Field(default=None, primary_key=False)
    shippingCarrier: Optional[str] = Field(default=None, primary_key=False)
    shippingTrackingNumber: Optional[str] = Field(default=None, primary_key=False)
    shippingPackageIds: Optional[list] = Field(default=None, sa_column=Column(JSON, nullable=True, primary_key=False))
    state: str = Field(default='created', sa_column=Column('__prophet_state', String, nullable=False))

class OrderStateHistoryModel(SQLModel, table=True):
    __tablename__ = 'orders_state_history'
    historyId: Optional[int] = Field(default=None, sa_column=Column('history_id', Integer, primary_key=True, autoincrement=True))
    orderId: str = Field(nullable=False)
    transitionId: str = Field(sa_column=Column('transition_id', String, nullable=False))
    fromState: str = Field(sa_column=Column('from_state', String, nullable=False))
    toState: str = Field(sa_column=Column('to_state', String, nullable=False))
    occurredAt: str = Field(default_factory=lambda: datetime.utcnow().isoformat(), sa_column=Column('occurred_at', String, nullable=False))

class UserModel(SQLModel, table=True):
    __tablename__ = 'users'
    userId: str = Field(primary_key=True)
    email: str = Field(primary_key=False)
