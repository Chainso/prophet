// Code generated by prophet-cli. DO NOT EDIT.

import type * as Actions from './actions.js';
import type { ActionContext, ActionHandlers } from './action-handlers.js';
import type { EventEmitter } from './events.js';

export class ActionExecutionService {
  constructor(
    private readonly handlers: ActionHandlers,
    private readonly eventEmitter: EventEmitter,
  ) {}

  async approveOrder(input: Actions.ApproveOrderCommand, context: ActionContext): Promise<Actions.ApproveOrderResult> {
    const output = await this.handlers.approveOrder.handle(input, context);
    await this.eventEmitter.emitApproveOrderResult(output);
    return output;
  }

  async createOrder(input: Actions.CreateOrderCommand, context: ActionContext): Promise<Actions.CreateOrderResult> {
    const output = await this.handlers.createOrder.handle(input, context);
    await this.eventEmitter.emitCreateOrderResult(output);
    return output;
  }

  async shipOrder(input: Actions.ShipOrderCommand, context: ActionContext): Promise<Actions.ShipOrderResult> {
    const output = await this.handlers.shipOrder.handle(input, context);
    await this.eventEmitter.emitShipOrderResult(output);
    return output;
  }

}
