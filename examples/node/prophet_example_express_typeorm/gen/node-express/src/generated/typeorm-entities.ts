// Code generated by prophet-cli. DO NOT EDIT.

import { Column, Entity, JoinColumn, ManyToOne, PrimaryColumn, PrimaryGeneratedColumn } from 'typeorm';

@Entity('orders')
export class OrderEntity {
  @PrimaryColumn({ type: 'varchar', name: 'order_id' })
  orderId!: string;

  @Column({ type: 'varchar', nullable: false, name: 'customer_user_id' })
  customerUserId!: string;

  @ManyToOne(() => UserEntity, { nullable: false })
  @JoinColumn([
    { name: 'customer_user_id', referencedColumnName: 'userId' },
  ])
  customer!: UserEntity;

  @Column({ type: 'numeric', nullable: false, name: 'total_amount' })
  totalAmount!: number;

  @Column({ type: 'varchar', nullable: true, name: 'discount_code' })
  discountCode?: string | null;

  @Column({ type: 'simple-json', nullable: true, name: 'tags' })
  tags?: unknown | null;

  @Column({ type: 'simple-json', nullable: true, name: 'shipping_address' })
  shippingAddress?: unknown | null;

  @Column({ type: 'varchar', nullable: true, name: 'approved_by_user_id' })
  approvedByUserId?: string | null;

  @Column({ type: 'simple-json', nullable: true, name: 'approval_notes' })
  approvalNotes?: unknown | null;

  @Column({ type: 'varchar', nullable: true, name: 'approval_reason' })
  approvalReason?: string | null;

  @Column({ type: 'varchar', nullable: true, name: 'shipping_carrier' })
  shippingCarrier?: string | null;

  @Column({ type: 'varchar', nullable: true, name: 'shipping_tracking_number' })
  shippingTrackingNumber?: string | null;

  @Column({ type: 'simple-json', nullable: true, name: 'shipping_package_ids' })
  shippingPackageIds?: unknown | null;

  @Column({ type: 'varchar', nullable: false, name: '__prophet_state' })
  state!: string;

}

@Entity('orders_state_history')
export class OrderStateHistoryEntity {
  @PrimaryGeneratedColumn({ name: 'history_id' })
  historyId!: number;

  @Column({ type: 'varchar', nullable: false, name: 'order_id' })
  orderId!: string;

  @Column({ type: 'varchar', nullable: false, name: 'transition_id' })
  transitionId!: string;

  @Column({ type: 'varchar', nullable: false, name: 'from_state' })
  fromState!: string;

  @Column({ type: 'varchar', nullable: false, name: 'to_state' })
  toState!: string;

  @Column({ type: 'datetime', nullable: false, name: 'occurred_at', default: () => 'CURRENT_TIMESTAMP' })
  occurredAt!: Date;

}

@Entity('users')
export class UserEntity {
  @PrimaryColumn({ type: 'varchar', name: 'user_id' })
  userId!: string;

  @Column({ type: 'varchar', nullable: false, name: 'email' })
  email!: string;

}
